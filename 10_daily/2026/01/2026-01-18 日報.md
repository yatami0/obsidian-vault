# 2026-01-18 日報

## やったこと
- ドメイン取得
	- TLDの種類と選び方
- SESドメイン検証
	- SESでドメインIdentityを作成
- DNS設定
	- - DKIM用CNAMEレコード × 3つ
	- SPF用TXTレコード
	- DMARC用TXTレコード
- 動作確認
	- テストメールの送信
- サンドボックス解除申請
	- 本稼働アクセスをリクエスト（審査待ち）
## 学び・気づき
- ドメイン検証の仕組み
	- 「DNSを編集できる人＝所有者」という原理で証明する
- DKIM
	- メールに電子署名を付ける仕組み。秘密鍵で署名し、公開鍵（DNS）で検証
- SPF
	- 「このサーバーから送信していい」とDNSで宣言
- DMARC
	- DKIM/SPFの検証ルールを公開。失敗時の処理を指定
- MAIL FROM、From
	- メールには2つの送信元がある。エンベロープとヘッダーの違い

## 明日やること
- サンドボックス解除後
	- 任意のアドレスへの送信テスト
	- 実際の日報送信を開始
- 発展的な内容
	- カスタムMAIL FROMドメインの設定（DMARCアライメント強化）
	- DMARCポリシーを `p=quarantine` → `p=reject` に段階的に強化
	- バウンス・苦情通知の設定（SNS連携）
	- 送信ログの監視（CloudWatch）
- ワークフローの改善
	- メール本文をファイルから読み込む
	- Obsidianのノートを日報として送信
## メモ

### うまくいったこと
- 「なぜそうするのか」を理解しながら進められた
- OIDCという認証の仕組みを実践で学べた
- DNSとメール認証の関係が理解できた
### 難しかったこと
- DNS設定の各レコードの役割を理解するのに時間がかかった
- 「何のためにこの設定をするのか」が最初は見えにくかった